<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Radio Player</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="./css/style.css">
</head>
<body class="selection:bg-indigo-300 selection:text-indigo-900">
    <header class="absolute top-4 right-4 z-50">
        <button id="hamburgerButton" class="p-2 rounded-full hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-indigo-300 transition-all duration-200" aria-label="Open settings menu">
            <div class="hamburger-icon" id="hamburgerIcon">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </button>
    </header>

    <div id="sideMenu" class="side-menu">
        <div class="flex justify-between items-center mb-4">
            <h2 class="text-xl font-bold text-gray-800">Settings</h2>
            <button id="closeMenuButton" class="text-gray-500 hover:text-gray-700 text-2xl font-bold transition-colors duration-200" aria-label="Close settings menu">
                &times;
            </button>
        </div>

        <div class="space-y-4">
            <h3 class="text-lg font-semibold text-gray-700">Set Background Image</h3>

            <div>
                <label for="imageUrlInput" class="block text-sm font-semibold text-gray-700 mb-1">Image URL:</label>
                <input type="url" id="imageUrlInput" placeholder="e.g., https://example.com/image.jpg" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 shadow-sm">
            </div>

            <div>
                <label for="imageFileInput" class="block text-sm font-semibold text-gray-700 mb-1">Upload File:</label>
                <input type="file" id="imageFileInput" accept="image/*" class="w-full text-gray-700 text-sm file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100 cursor-pointer">
                <p class="mt-1 text-xs text-gray-500">Supports JPG, PNG, GIF. Max file size: 5MB (for browser storage).</p>
                <div id="fileErrorMessage" class="message-box error"></div>
            </div>

            <div class="flex flex-col space-y-3">
                <button id="applyBgButton" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition duration-200 transform hover:scale-105 active:scale-95 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2" disabled aria-disabled="true">
                    Apply Background
                </button>
                <button id="clearBgButton" class="w-full bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition duration-200 transform hover:scale-105 active:scale-95 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2">
                    Clear Background
                </button>
            </div>
        </div>
    </div>

    <div id="overlay" class="overlay"></div>

    <div class="player-container bg-white p-6 md:p-8 rounded-3xl shadow-xl flex flex-col items-center space-y-6 transform transition-all duration-300 hover:shadow-2xl">

        <audio id="audioPlayer" src="http://playerservices.streamtheworld.com/api/livestream-redirect/NZME_34.mp3" preload="auto"></audio>

        <h1 class="text-2xl md:text-3xl font-bold text-gray-800 text-center tracking-tight">
            Radio Player
        </h1>

        <div class="text-center text-sm md:text-base text-gray-600 space-y-1">
            <p id="streamTitle" class="font-medium text-gray-700">Radio Hauraki</p>
            <p id="playerStatus" class="text-indigo-600 font-semibold">Ready to load</p>
        </div>

        <button id="playPauseButton" class="bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-4 px-6 rounded-full shadow-lg transition duration-200 ease-in-out transform hover:scale-105 active:scale-95 focus:outline-none focus:ring-4 focus:ring-indigo-300 flex items-center justify-center w-full max-w-xs" aria-label="Play or pause audio">
            <svg id="playIcon" class="h-6 w-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd"></path>
            </svg>
            <svg id="pauseIcon" class="h-6 w-6 hidden" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd"></path>
            </svg>
        </button>

        <div class="w-full flex items-center space-x-4 bg-gray-50 p-4 rounded-xl shadow-inner border border-gray-200">
            <button id="muteToggleButton" class="p-1 rounded-full hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-indigo-300 transition-all duration-200" aria-label="Mute audio">
                <svg id="volumeIcon" class="h-6 w-6 text-gray-500" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                    <path fill-rule="evenodd" d="M9.383 5.06A2 2 0 0110 6.645v6.71a2 2 0 01-1.017 1.789L5 15.69V4.31l4.383.75zM11.603 16.5a1 1 0 01-1.267-1.565 7.001 7.001 0 004.226-6.195 7.001 7.001 0 00-4.226-6.195 1 1 0 111.267-1.565 9.001 9.001 0 015.42 7.76 9.001 9.001 0 01-5.42 7.76z" clip-rule="evenodd"></path>
                </svg>
                <svg id="muteIcon" class="h-6 w-6 text-gray-500 hidden" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                    <path fill-rule="evenodd" d="M9.383 5.06A2 2 0 0110 6.645v6.71a2 2 0 01-1.017 1.789L5 15.69V4.31l4.383.75zM12.484 1.836a1 1 0 10-1.03-1.745 11.001 11.001 0 00-2.396 1.947A1 1 0 009 2.768V3.5a1 1 0 102 0v-.732a1 1 0 00-.074-.351 9.001 9.001 0 01.036-.076L12.484 1.836zM15 8a1 1 0 00-.707-.293L13.293 8l-1.061-1.061a1 1 0 00-1.414 1.414L11.586 9l-1.061 1.061a1 1 0 001.414 1.414L13.293 10l1.061 1.061a1 1 0 001.414-1.414L14.414 9l1.061-1.061A1 1 0 0015 8z" clip-rule="evenodd"></path>
                </svg>
            </button>
            <input type="range" id="volumeSlider" min="0" max="1" step="0.01" value="0.5" class="flex-grow" aria-label="Volume slider">
            <span id="volumeValue" class="text-gray-600 text-sm w-10 text-right">50%</span>
        </div>

        <div class="progress-bar w-full">
            <div class="progress-fill" id="progressFill"></div>
        </div>

        <div id="errorMessage" class="message-box error">
            </div>

    </div>

    <script src="./js/script.js"></script>
</body>
</html>
